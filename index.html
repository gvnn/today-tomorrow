<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Today Tomorrow</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <link href="assets/css/style.css" rel="stylesheet">
    </head>
    <body>
        <div id="container">
            <div id="app">
                <div id="loading">loading...</div>
            </div>
        </div>
        <div id="footer">
            coded by
            <a href="http://twitter.com/gvnnrules" target="_blank">
                @gvnnrules
            </a>,
            designed by
            <a href="http://twitter.com/evsberg" target="_blank">
                @evsberg
            </a>
        </div>
        <script src="//www.dropbox.com/static/api/1/dropbox-datastores-0.1.0-b3.js" type="text/javascript"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="assets/js/vendor/ractive.min.js" type="text/javascript"></script>
        <script src="assets/js/today-tomorrow.js" type="text/javascript"></script>
        <script id="template" type="ractive">
            {{#loadingInfo}}
                <div id="loading">loading...</div>
            {{/loadingInfo}}
            {{#notSignedIn}}
                <div id="connect">
                    <a id="connectImage"><img src="assets/img/dropbox.png"></a>
                    <a id="connectLink">Connect with Dropbox</a>
                </div>
            {{/notSignedIn}}
            {{#signedIn}}
                <div id="logout">
                    <a proxy-tap="disconnect">Disconnect from Dropbox</a>
                </div>
                <div id="todo">
                    <div id="todayContainer" style='min-height: {{ minHeight() }}px;'>
                        <div class="title">
                            <h2 dir="{{ dir() }}">{{{ today() }}}</h2>
                            <ul id="todayItemsList">
                            {{#todayItems:i}}
                                {{>listItem}}
                            {{/todayItems}}
                            </ul>
                            <div class="form-container">
                                <div class='new-todo {{( addingToday ? "adding" : "" )}}'>
                                    <a proxy-tap="add:today">Write something new</a>
                                    <div class="new-input-form">
                                        <input
                                            id="newTodayInput"
                                            proxy-keyup="textboxEscape"
                                            proxy-enter="addNew:today"
                                            proxy-blur="cancelAdd:today" type="text">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tomorrowContainer" style='min-height: {{ minHeight() }}px;'>
                        <div class="title">
                            <h2 dir="{{ dir() }}">{{{ tomorrow() }}}</h2>
                            <ul id="tomorrowItemsList">
                            {{#tomorrowItems:i}}
                                {{>listItem}}
                            {{/tomorrowItems}}
                            </ul>
                            <div class="form-container">
                                <div class='new-todo {{( addingTomorrow ? "adding" : "" )}}'>
                                    <a proxy-tap="add:tomorrow">Write something new</a>
                                    <div class="new-input-form">
                                        <input
                                            id="newTomorrowInput"
                                            proxy-keyup="textboxEscape"
                                            proxy-enter="addNew:tomorrow"
                                            proxy-blur="cancelAdd:tomorrow" type="text">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {{/signedIn}}
        </script>
    </body>
</html>